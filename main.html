<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ÍµêÏú°Ïö© Î™®Îç∏ Ïπ¥ÌÉàÎ°úÍ∑∏</title>
  <meta name="description" content="JSON(models.json) Í∏∞Î∞òÏúºÎ°ú Î™©Î°ùÏùÑ Î∂àÎü¨Ïò§Îäî ÍµêÏú°Ïö© Î™®Îç∏ Ïπ¥ÌÉàÎ°úÍ∑∏. ÏÉÅÎã® Í≥ºÎ™© Ï≤¥ÌÅ¨Î∞ïÏä§ + Î°úÍ∑∏Ïù∏ UI + Sketchfab ÏûÑÎ≤†Îìú ÌåùÏóÖ." />
  <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
  <style>
    :root {--c1:#bc2c3c;--c2:#4e77ba;--bg:#f7f7f8;--card:#fff;--text:#111;--muted:#666;--bd:#e6e6e8}
    *,*::before,*::after{box-sizing:border-box}
    body{margin:0;font:14px/1.6 Pretendard,system-ui,-apple-system,Segoe UI,Roboto,Noto Sans KR;color:var(--text);background:var(--bg)}
    .no-scroll{overflow:hidden}
    .container{max-width:1280px;margin:0 auto;padding:0 16px}
    header{position:sticky;top:0;z-index:50;background:rgba(255,255,255,.9);backdrop-filter:blur(10px);border-bottom:1px solid var(--bd)}
    .nav{display:flex;align-items:center;justify-content:space-between;height:64px}
    .brand{display:flex;align-items:center;gap:.6rem;font-weight:800}
    .logo{width:28px;height:28px;border-radius:9px;background:linear-gradient(135deg,var(--c1),var(--c2))}
    .search{flex:1;display:flex;align-items:center;gap:8px;background:#fff;border:1px solid var(--bd);border-radius:14px;padding:8px 10px;margin:0 16px}
    .search input{border:0;outline:0;flex:1;font:inherit}
    .btn{display:inline-flex;align-items:center;gap:.5rem;border:1px solid var(--bd);background:#fff;border-radius:12px;padding:8px 12px;text-decoration:none;cursor:pointer}
    .btn.primary{background:linear-gradient(90deg,var(--c1),var(--c2));border:none;color:#fff}

    /* Filter Bar */
    .filterbar{background:#fff;border-top:1px solid var(--bd);border-bottom:1px solid var(--bd)}
    .filters{display:flex;align-items:center;flex-wrap:wrap;gap:12px;padding:10px 0}
    .filters .group{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
    .filters label{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border:1px solid var(--bd);border-radius:999px;cursor:pointer;user-select:none}
    .filters input[type="checkbox"]{width:16px;height:16px}
    .filters .clear{margin-left:auto}

    /* Layout */
    main{padding:16px 0}
    .results{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:16px}
    @media(max-width:1200px){.results{grid-template-columns:repeat(3,1fr)}}
    @media(max-width:900px){.results{grid-template-columns:repeat(2,1fr)}}
    @media(max-width:520px){.results{grid-template-columns:1fr}}

    .item{display:flex;flex-direction:column;overflow:hidden;background:var(--card);border:1px solid var(--bd);border-radius:16px}
    .thumb{aspect-ratio:1.2/1;background:#e9e9ee;display:grid;place-items:center;color:#888;border-bottom:1px solid var(--bd);cursor:pointer;position:relative;background-size:cover;background-position:center;background-repeat:no-repeat}
    .thumb::after{content:"ÌÅ¥Î¶≠ÌïòÏó¨ ÎØ∏Î¶¨Î≥¥Í∏∞";position:absolute;bottom:8px;right:8px;background:rgba(17,17,17,.75);color:#fff;font-size:.75rem;padding:4px 8px;border-radius:8px}
    .meta{padding:10px;text-align:left}
    .title{font-weight:700;text-align:left}
    .sub{color:var(--muted);font-size:.85rem;margin-top:2px;text-align:left}

    /* Modal */
    .modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(17,17,17,.6);backdrop-filter:blur(2px);z-index:100}
    .modal.open{display:grid}
    .dialog{width:min(1000px,92vw);background:#000;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.35);overflow:hidden}
    .dialog-header{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;background:#111;color:#eee}
    .dialog-title{font-weight:700;font-size:.95rem}
    .dialog-close{background:transparent;border:0;color:#ddd;font-size:18px;cursor:pointer}
    .dialog-body{aspect-ratio:16/9;background:#000}
    .dialog-body iframe{width:100%;height:100%;border:0}

    /* Footer */
    footer{border-top:1px solid var(--bd);color:#777}
    footer .inner{padding:14px 0;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:8px}

    /* ===== Login Component (compiled from SCSS) ===== */
    :root{
      --login-color:#4AD395;--login-dark:#23004d;--login-light:#a49eac;--login-lighten:#f2f2f2;--login-hover:#65bf97;
      --login-font:"Open Sans", sans-serif;--login-big:1.5rem;--login-normal:0.938rem;--login-small:0.813rem;
    }
    @media(min-width:768px){ :root{ --login-normal:1rem; --login-small:0.875rem; } }
    .login *{box-sizing:border-box}
    .login{display:grid;grid-template-columns:100%;height:100vh;margin:0 1.5rem}
    .login__content{display:grid}
    .login__img{justify-self:center}
    .login__img img{width:310px;margin-top:1.5rem}
    .login__forms{position:relative;height:368px}
    .login__register,.login__create{position:absolute;bottom:1rem;width:100%;background-color:var(--login-lighten);padding:2rem 1rem;border-radius:1rem;text-align:center;box-shadow:0 8px 20px rgba(35,0,77,.2);animation-duration:.4s;animation-name:animateLogin}
    .login__title{font-size:var(--login-big);margin-bottom:2rem;font-family:var(--login-font)}
    .login__box{display:grid;grid-template-columns:max-content 1fr;column-gap:.5rem;padding:1.125rem 1rem;background-color:#fff;margin-top:1rem;border-radius:.5rem}
    .login__icon{font-size:1.5rem;color:var(--login-color)}
    .login__input{border:none;outline:none;font-size:var(--login-normal);font-weight:700;color:var(--login-dark);width:100%;font-family:var(--login-font)}
    .login__input::placeholder{font-size:var(--login-normal);font-family:var(--login-font);color:var(--login-light)}
    .login__forgot{display:block;width:max-content;margin-left:auto;margin-top:.5rem;font-size:var(--login-small);font-weight:600;color:var(--login-light)}
    .login__button{display:block;padding:1rem;margin:2rem 0;background-color:var(--login-color);color:#fff;font-weight:600;text-align:center;border-radius:.5rem;transition:.3s}
    .login__button:hover{background-color:var(--login-hover)}
    .login__account,.login__signin,.login__signup{font-weight:600;font-size:var(--login-small)}
    .login__account--account{color:var(--login-dark)}
    .login__signin--signup,.login__signup--signup{color:var(--login-color);cursor:pointer}
    .login__social{margin-top:2rem}
    .login__social--icon{font-size:1.5rem;color:var(--login-dark);margin:0 1rem}
    .block{display:block}.none{display:none}
    @keyframes animateLogin{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}
    @media(min-width:576px){ .login__forms{width:348px;justify-self:center} }
    @media(min-width:1024px){
      .login{height:100vh;overflow:hidden}
      .login__content{grid-template-columns:repeat(2,max-content);justify-content:center;align-items:center;margin-left:10rem}
      .login__img{display:flex;width:600px;height:588px;background-color:#fff;border-radius:1rem;padding-left:1rem}
      .login__img img{width:80%;margin-top:0}
      .login__register,.login__create{left:-11rem}
      .login__register{bottom:-2rem}
      .login__create{bottom:-5.5rem}
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand"><div class="logo"></div> ÍµêÏú°Ïö© Î™®Îç∏ Ïπ¥ÌÉàÎ°úÍ∑∏</div>
      <div class="search">
        üîé<input id="q" placeholder="Î™®Îç∏/ÏÑ§Î™Ö Í≤ÄÏÉâ (Ïòà: ÏÑ∏Ìè¨, ÌôîÏÇ∞, DNA, Í¥ëÌïô)" />
        <button class="btn" id="btnSearch">Í≤ÄÏÉâ</button>
      </div>
      <button class="btn primary" id="btnAuth" type="button">Î°úÍ∑∏Ïù∏</button>
    </div>
    <!-- SUBJECT FILTER BAR (checkbox, but single-select enforced) -->
    <div class="filterbar">
      <div class="container filters">
        <div class="group" id="subjectGroup">
          <label><input type="checkbox" class="subject-chk" value="biology">ÏÉùÎ™ÖÍ≥ºÌïô</label>
          <label><input type="checkbox" class="subject-chk" value="earth">ÏßÄÍµ¨Í≥ºÌïô</label>
          <label><input type="checkbox" class="subject-chk" value="physics">Î¨ºÎ¶¨</label>
          <label><input type="checkbox" class="subject-chk" value="chemistry">ÌôîÌïô</label>
          <label><input type="checkbox" class="subject-chk" value="history">ÌïúÍµ≠ÏÇ¨</label>
          <label><input type="checkbox" class="subject-chk" value="ethics">Ïú§Î¶¨</label>
          <label><input type="checkbox" class="subject-chk" value="geography">ÏßÄÎ¶¨</label>
        </div>
        <button class="btn clear" id="btnClear" type="button">Ï¥àÍ∏∞Ìôî</button>
      </div>
    </div>
  </header>

  <main class="container">
    <div id="count" class="muted" style="margin-bottom:8px"></div>
    <div class="results" id="results"></div>
    <div class="pager" id="pager" style="text-align:center;margin-top:16px"></div>
  </main>

  <!-- Model Viewer Modal -->
  <div class="modal" id="modal" aria-hidden="true" role="dialog" aria-modal="true" tabindex="-1">
    <div class="dialog">
      <div class="dialog-header">
        <div class="dialog-title" id="modalTitle">ÎØ∏Î¶¨Î≥¥Í∏∞</div>
        <button class="dialog-close" id="btnClose" type="button" aria-label="Îã´Í∏∞">‚úï</button>
      </div>
      <div class="dialog-body">
        <iframe id="viewer" allow="autoplay; fullscreen; xr-spatial-tracking" xr-spatial-tracking execution-while-out-of-viewport execution-while-not-rendered web-share allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>
      </div>
    </div>
  </div>

  <!-- Login Modal with the provided UI -->
  <div class="modal" id="modalLogin" aria-hidden="true" role="dialog" aria-modal="true" tabindex="-1">
    <div class="login">
      <div class="login__content">
        <div class="login__img">
          <img src="https://image.freepik.com/free-vector/code-typing-concept-illustration_114360-3581.jpg" alt="user login">
        </div>
        <div class="login__forms">
          <!-- Sign in form -->
          <form action="#" class="login__register block" id="login-in">
            <h1 class="login__title">Sign In</h1>
            <div class="login__box">
              <i class='bx bx-user login__icon'></i>
              <input id="loginEmail" type="email" placeholder="Email" class="login__input" required>
            </div>
            <div class="login__box">
              <i class='bx bx-lock login__icon'></i>
              <input id="loginPw" type="password" placeholder="Password" class="login__input" required>
            </div>
            <a href="#" class="login__forgot">Forgot Password?</a>
            <button class="login__button" id="btnSignIn" type="submit">Sign In</button>
            <div>
              <span class="login__account login__account--account">Don't Have an Account?</span>
              <span class="login__signin login__signin--signup" id="sign-up">Sign Up</span>
            </div>
          </form>

          <!-- Create account form -->
          <form action="#" class="login__create none" id="login-up">
            <h1 class="login__title">Create Account</h1>
            <div class="login__box">
              <i class='bx bx-user login__icon'></i>
              <input type="text" placeholder="Username" class="login__input">
            </div>
            <div class="login__box">
              <i class='bx bx-at login__icon'></i>
              <input type="email" placeholder="Email" class="login__input">
            </div>
            <div class="login__box">
              <i class='bx bx-lock login__icon'></i>
              <input type="password" placeholder="Password" class="login__input">
            </div>
            <button class="login__button" id="btnSignUp" type="button">Sign Up</button>
            <div>
              <span class="login__account login__account--account">Already have an Account?</span>
              <span class="login__signup login__signup--signup" id="sign-in">Sign In</span>
            </div>
            <div class="login__social">
              <i class='bx bxl-facebook login__social--icon'></i>
              <i class='bx bxl-twitter login__social--icon'></i>
              <i class='bx bxl-google login__social--icon'></i>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <footer>
    <div class="container inner">
      <div>¬© <span id="year"></span> Model Catalog</div>
      <div><a href="#" onclick="event.preventDefault()">Privacy</a> ¬∑ <a href="#" onclick="event.preventDefault()">Terms</a></div>
    </div>
  </footer>

  <!-- Fallback data: Ïô∏Î∂Ä models.jsonÏù¥ Ïïà Î∂àÎ¶¥ Îïå ÏÇ¨Ïö©Îê® (Î°úÏª¨ file:// Ïó¥Îûå Ïãú Ïú†Ïö©) -->
  <script type="application/json" id="models-json">[
    {"id":1,"title":"ÏÑ∏Ìè¨ Íµ¨Ï°∞ #1","description":"ÏÑ∏Ìè¨Ïùò Í∏∞Î≥∏ Íµ¨Ï°∞ÏôÄ ÏÜåÍ∏∞Í¥Ä Î∞∞ÏπòÎ•º ÏÇ¥Ìé¥Î≥º Ïàò ÏûàÎäî Î™®Îç∏","url":"https://sketchfab.com/3d-models/make-your-own-steampunk-house-0bceb4f2d7444809b022ba864ac03df3","thumb":"thumbs/cell-1.png","subject":"biology"},
    {"id":2,"title":"ÏßÄÍµ¨ Îã®Î©¥ #2","description":"ÏßÄÍ∞Å‚ÄìÎß®ÌãÄ‚ÄìÌïµÏùò Ï∏µÏÉÅÏùÑ Îã®Î©¥ÏúºÎ°ú ÌëúÌòÑ","url":"https://sketchfab.com/3d-models/make-your-own-steampunk-house-0bceb4f2d7444809b022ba864ac03df3","thumb":"thumbs/earth-2.png","subject":"earth"},
    {"id":3,"title":"ÏõêÏûê Î™®Îç∏ #3","description":"ÏõêÏûêÌïµÍ≥º Ï†ÑÏûêÍªçÏßàÏùò Í∞úÎÖêÏùÑ ÏãúÍ∞ÅÌôî","url":"https://sketchfab.com/3d-models/make-your-own-steampunk-house-0bceb4f2d7444809b022ba864ac03df3","thumb":"thumbs/atom-3.png","subject":"chemistry"},
    {"id":4,"title":"Í¥ëÌïô Ïã§Ìóò #4","description":"Î†åÏ¶àÎ•º ÌÜµÌïú Íµ¥Ï†àÍ≥º ÏÉÅÏùò ÌòïÏÑ± ÏõêÎ¶¨","url":"https://sketchfab.com/3d-models/make-your-own-steampunk-house-0bceb4f2d7444809b022ba864ac03df3","thumb":"thumbs/optics-4.png","subject":"physics"}
  ]</script>

  <script>
    // models.json Î∂àÎü¨Ïò§Í∏∞ (Í∞ÑÎã®Ìïú Îç∞Ïù¥ÌÑ∞ Íµ¨Ï°∞: id, title, description, url, thumb?, subject?)
    let MODELS = [];
    async function loadModels(){
      try{
        const res = await fetch('models.json', { cache:'no-store' });
        if(res.ok){ MODELS = await res.json(); if(Array.isArray(MODELS) && MODELS.length) return; }
      }catch(e){ console.warn('models.json Î°úÎìú Ïã§Ìå®', e); }
      try{
        const fallback = document.getElementById('models-json');
        if(fallback){ MODELS = JSON.parse(fallback.textContent || '[]'); }
      }catch(e){ console.warn('inline JSON ÌååÏã± Ïã§Ìå®', e); MODELS = []; }
    }

    const SUBJECTS = {
      biology:   { label:'ÏÉùÎ™ÖÍ≥ºÌïô', keywords:['ÏÑ∏Ìè¨','DNA','ÏÉùÎ™Ö','ÏÉùÎ¨º','Ïú†Ï†Ñ','Îã®Î∞±Ïßà','Í¥ëÌï©ÏÑ±'] },
      earth:     { label:'ÏßÄÍµ¨Í≥ºÌïô', keywords:['ÏßÄÍµ¨','Îã®Î©¥','Ìåê Íµ¨Ï°∞','ÌôîÏÇ∞','ÏßÄÏßÑ','ÎåÄÍ∏∞','Í∏∞ÏÉÅ','ÏßÄÏßà'] },
      physics:   { label:'Î¨ºÎ¶¨',   keywords:['Í¥ëÌïô','ÌååÎèô','Ï†ÑÍ∏∞','ÏûêÍ∏∞','Ïó≠Ìïô','Ïö¥Îèô','Î†åÏ¶à'] },
      chemistry: { label:'ÌôîÌïô',   keywords:['ÏõêÏûê','Î∂ÑÏûê','ÌôîÌï©Î¨º','Ïã§Ìóò','Í∏∞Íµ¨','Î∞òÏùë','Ï£ºÍ∏∞Ïú®'] },
      history:   { label:'ÌïúÍµ≠ÏÇ¨', keywords:['Ïú†Î¨º','Ï°∞ÏÑ†','ÏÇºÍµ≠','Ïó≠ÏÇ¨','Î¨∏ÌôîÏû¨'] },
      ethics:    { label:'Ïú§Î¶¨',   keywords:['Ïú§Î¶¨','Í∞ÄÏπò','Ï≤†Ìïô','ÎèÑÎçï'] },
      geography: { label:'ÏßÄÎ¶¨',   keywords:['ÏßÄÌòï','ÏÇºÍ∞ÅÏ£º','ÌòëÍ≥°','ÏßÄÎ¶¨','ÏßÄÎèÑ'] }
    };

    const qs=s=>document.querySelector(s);
    const qsa=s=>[...document.querySelectorAll(s)];
    const state={q:"",page:1,per:12,sort:"relevance", subject:null, isLoggedIn:false};

    function toEmbed(url){
      try{
        const last=url.split('/').pop();
        const uid=(last||'').split('-').pop();
        return `https://sketchfab.com/models/${uid}/embed?ui_theme=dark`;
      }catch(e){return url;}
    }

    function openModal(title,url){
      const modal=qs('#modal');
      const iframe=qs('#viewer');
      qs('#modalTitle').textContent=title||'ÎØ∏Î¶¨Î≥¥Í∏∞';
      iframe.src=toEmbed(url);
      modal.classList.add('open');
      modal.focus();
      document.body.classList.add('no-scroll');
    }
    function closeModal(){
      const modal=qs('#modal');
      const iframe=qs('#viewer');
      modal.classList.remove('open');
      document.body.classList.remove('no-scroll');
      iframe.src='';
    }

    function matchSubject(m, key){
      if(m.subject && m.subject===key) return true;
      const text = (m.title + ' ' + (m.description||'')).toLowerCase();
      const kw = SUBJECTS[key].keywords;
      return kw.some(k=> text.includes(k.toLowerCase()));
    }

    function render(){
      let list=MODELS
        .filter(m=>!state.q || (m.title + (m.description||'')) .toLowerCase().includes(state.q.toLowerCase()))
        .filter(m=>!state.subject || matchSubject(m, state.subject));

      const total=list.length; const pages=Math.max(1,Math.ceil(total/state.per));
      state.page=Math.min(state.page,pages);
      const start=(state.page-1)*state.per; const pageItems=list.slice(start,start+state.per);

      qs('#count').textContent=`${total}Í∞ú Í≤∞Í≥º`;
      qs('#results').innerHTML=pageItems.map(m=>{
        const bg = m.thumb ? ` style="background-image:url('${m.thumb.replace(/'/g,"%27")}')"` : '';
        const label = m.thumb ? '' : `Ïç∏ÎÑ§Ïùº ${m.id}`;
        return `
        <article class="item">
          <div class="thumb" data-id="${m.id}" data-title="${m.title}" data-url="${m.url}"${bg}>${label}</div>
          <div class="meta">
            <div class="title">${m.title}</div>
            <div class="sub">${m.description||""}</div>
          </div>
        </article>`;
      }).join('');

      qsa('.thumb').forEach(el=>el.addEventListener('click',()=>openModal(el.dataset.title,el.dataset.url)));

      qs('#pager').innerHTML=Array.from({length:pages}).map((_,i)=>`<button ${i+1===state.page?'class="btn primary"':'class="btn"'} data-page="${i+1}">${i+1}</button>`).join('');
      qsa('#pager [data-page]').forEach(b=>b.addEventListener('click',()=>{state.page=+b.dataset.page;render()}));
    }

    // Í≤ÄÏÉâ
    qs('#btnSearch').addEventListener('click',()=>{state.q=qs('#q').value.trim();state.page=1;render();});
    qs('#q').addEventListener('keydown',e=>{if(e.key==='Enter'){state.q=qs('#q').value.trim();state.page=1;render();}});

    // Í≥ºÎ™© Ï≤¥ÌÅ¨Î∞ïÏä§: ÌïòÎÇòÎßå ÏÑ†ÌÉùÎêòÎèÑÎ°ù Í∞ïÏ†ú(ÌÜ†Í∏Ä ÌóàÏö©)
    qsa('.subject-chk').forEach(chk=>{
      chk.addEventListener('change', ()=>{
        if(chk.checked){
          qsa('.subject-chk').forEach(other=>{ if(other!==chk) other.checked=false; });
          state.subject = chk.value;
        }else{
          state.subject = null;
        }
        state.page=1; render();
      });
    });

    // Ï¥àÍ∏∞Ìôî Î≤ÑÌäº
    qs('#btnClear').addEventListener('click', ()=>{
      qsa('.subject-chk').forEach(c=>c.checked=false);
      state.subject=null; state.page=1; render();
    });

    // Î™®Îã¨ Îã´Í∏∞: Î≤ÑÌäº, Ïò§Î≤ÑÎ†àÏù¥ ÌÅ¥Î¶≠, ESC
    qs('#btnClose').addEventListener('click', closeModal);
    qs('#modal').addEventListener('click', e=>{ if(e.target === e.currentTarget) closeModal(); });
    document.addEventListener('keydown', e=>{ if(e.key === 'Escape') closeModal(); }, true);

    // ===== Login UI interactions =====
    const signup = document.getElementById("sign-up");
    const signin = document.getElementById("sign-in");
    const loginin = document.getElementById("login-in");
    const loginup = document.getElementById("login-up");

    signup && signup.addEventListener("click", () => {
      loginin.classList.remove("block");
      loginup.classList.remove("none");
      loginin.classList.add("none");
      loginup.classList.add("block");
    });
    signin && signin.addEventListener("click", () => {
      loginin.classList.remove("none");
      loginup.classList.remove("block");
      loginin.classList.add("block");
      loginup.classList.add("none");
    });

    // ÏÉÅÎã® Î≤ÑÌäº: Î°úÍ∑∏Ïù∏ Î™®Îã¨ Ïó¥Í∏∞/Îã´Í∏∞
    function openLogin(){ const m=qs('#modalLogin'); m.classList.add('open'); m.focus(); document.body.classList.add('no-scroll'); }
    function closeLogin(){ const m=qs('#modalLogin'); m.classList.remove('open'); document.body.classList.remove('no-scroll'); }
    qs('#btnAuth').addEventListener('click', openLogin);
    qs('#modalLogin').addEventListener('click', e=>{ if(e.target === e.currentTarget) closeLogin(); });
    document.addEventListener('keydown', e=>{ if(e.key==='Escape') closeLogin(); }, true);

    // Sign In ÎèôÏûë(Îç∞Î™®Ïö©): Î°úÍ∑∏Ïù∏ ÏÉÅÌÉúÎ°ú Ï†ÑÌôò ÌõÑ Î™®Îã¨ Îã´Í≥† Î≤ÑÌäºÏùÑ ÏóÖÎ°úÎìúÎ°ú Î∞îÍøà
    const btnSignIn = document.getElementById('btnSignIn');
    btnSignIn && btnSignIn.addEventListener('click', (e)=>{
      e.preventDefault();
      const email = (document.getElementById('loginEmail').value||'').trim();
      const pw = (document.getElementById('loginPw').value||'').trim();
      if(!email || !pw) return;
      state.isLoggedIn = true;
      localStorage.setItem('isLoggedIn','1');
      document.getElementById('btnAuth').textContent = 'ÏóÖÎ°úÎìú';
      closeLogin();
    });

    // ÏãúÏûë
    document.getElementById('year').textContent=new Date().getFullYear();
    state.isLoggedIn = localStorage.getItem('isLoggedIn') === '1';
    document.getElementById('btnAuth').textContent = state.isLoggedIn ? 'ÏóÖÎ°úÎìú' : 'Î°úÍ∑∏Ïù∏';
    (async()=>{ await loadModels(); render(); })();
  </script>
</body>
</html>
